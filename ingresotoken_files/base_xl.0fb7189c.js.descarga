"use strict";angular.module("saintDirectiveTemplates",[]).run(["$templateCache",function(e){e.put("dist/templates/bind-token-tpls.html",'<form ng-show="!ignoreToken && !isDoit" name="form.generateToken" class="bind-flat-panel hidden-print" novalidate ng-cloak cg-busy="[fetchCanOperate, fetchEngageDisabled, fetchChannelsPromisse]"> <div class="h3">{{::title}} </div> <p class="margin-10-b">{{\'TOKEN.DESCRIPTION\' | translate}}</p> <div class="row"> <div class="col-lg-8 col-md-8 col-sm-8 col-xs-7 col-xxs-12"> <div class="dropdown margin-10-b" uib-dropdown> <label for="ddChannel" class="sr-only">{{\'TOKEN.GENERATE_LEGEND\' | translate}}</label> <button class="btn btn-default dropdown-toggle btn-block" type="button" id="ddChannel" uib-dropdown-toggle aria-haspopup="true" aria-expanded="true"> <span class="pull-left font-size-12" ng-if="token.channel.value">{{ token.channel.value }}</span> <span class="pull-left font-size-12" ng-if="!token.channel.value">{{\'TOKEN.GENERATE_LEGEND\' | translate}}</span> <span class="caret caret-right"></span> </button> <ul uib-dropdown-menu class="dropdown-menu btn-block" aria-label="Canal"> <li ng-repeat="channel in channels" ng-click="token.channel = channel" class="margin-15-r"> <a href> {{channel.value}} </a> </li> </ul> </div> <input type="hidden" name="channel" ng-model="token.channel" required/> </div> <div class="col-lg-4 col-md-4 col-sm-4 col-xs-5 col-xxs-12"> <input type="submit" class="btn btn-primary bg-blue-bind btn-block" ng-click="generateToken()" value="{{\'TOKEN.GENERATE\' | translate}}" title="{{\'TOKEN.GENERATE_TITLE\' | translate}}" ng-if="!token.sent && channelsFetched && channels && channels.length &gt; 0" aria-label="{{\'TOKEN.GENERATE_TITLE\' | translate}}" ng-disabled="disabled" aria-describedby="generate-error"/> <input type="submit" class="btn btn-primary bg-light-blue-bind btn-block font-size-13" ng-click="generateToken()" value="{{\'TOKEN.REGENERATE\' | translate}}" title="{{\'TOKEN.GENERATE_TITLE\' | translate}}" ng-if="token.sent && channelsFetched && channels && channels.length &gt; 0" aria-label="{{\'TOKEN.GENERATE_TITLE\' | translate}}" ng-disabled="disabled" aria-describedby="generate-error"/> <span ng-if="token.sent"></span> </div> </div>  <div id="generate-error"> <div class="has-error" ng-if="form.generateToken.$submitted && form.generateToken.channel.$error.required"> <label class="control-label">{{\'ERROR.REQUIRED\' | translate}}</label> </div> <div class="has-error" ng-if="handleError && channelsFetched === false"> <label class="control-label" ng-if="displayErrors">{{\'ERROR.BACKEND\' | translate: {\'elements\' : (\'CHANNELS.EMAIL.PLURAL\' | translate)} }}...</label> </div> <div class="has-error" ng-if="handleError && channelsFetched && (!channels || !channels.length &gt; 0)"> <label class="control-label" ng-if="displayErrors">{{\'COMMON.TABLE_EMPTY\' | translate: {\'elements\' : (\'CHANNELS.EMAIL.PLURAL\' | translate)} }}</label> </div> <div class="has-error" ng-if="handleError && tokenGenerationError"> <label class="control-label" ng-if="displayErrors">{{\'ERROR.TOKEN_GENERATION\' | translate}}</label> </div> <span class="btn-link margin-5-l" ng-if="channelsFetched === false" ng-click="fetch()">{{\'TOKEN.LOAD_MAILS\' | translate}}</span> </div> </form> <form ng-if="!ignoreToken" name="form.activateToken" class="bind-flat-panel margin-15-t hidden-print" novalidate ng-cloak> <div class="row margin-15-t" ng-if="token.sent"> <div class="col-lg-8 col-md-8 col-sm-8 col-xs-7 col-xxs-12 margin-10-b"> <label for="txtToken" class="sr-only">{{\'TOKEN.INPUT\' | translate}}</label> <input placeholder="{{\'TOKEN.INPUT\' | translate}}" nga11y-focus id="txtToken" name="token" class="form-control block" ng-model="token.value" required autocomplete="off" aria-describedby="error-token-sent"/>  <div id="error-token-sent" class="has-error" ng-if="handleError && form.activateToken.$submitted && form.activateToken.token.$error.valid"> <label class="control-label margin-10-t">{{\'ERROR.INVALID_TOKEN\' | translate}}</label> </div> </div> <div class="col-lg-4 col-md-4 col-sm-4 col-xs-5 col-xxs-12"> <button class="btn btn-primary bg-blue-bind btn-block" ng-click="activate()" aria-label="Verificar código de seguridad">{{::verifyButtonLabel}}</button> <div class="has-error" ng-if="form.activateToken.$submitted && form.activateToken.token.$error.required"> <label class="control-label">{{\'ERROR.REQUIRED\' | translate}}</label> </div> </div> </div> <div ng-if="token.sent" class="margin-10-t">{{\'TOKEN.LEGEND\' | translate}}</div> </form> <form ng-if="isOperator" name="form.noToken" class="bind-flat-panel margin-15-t hidden-print" novalidate ng-cloak cg-busy="[fetchCanOperate, fetchEngageDisabled]"> <div class="warning-token"> <div class="h3-engage col-lg-7 col-md-7 col-sm-7 col-xs-12 col-xxs-12"> {{disabledOperator ? (\'TOKEN.OPERATOR_DISABLED\' | translate): (\'TOKEN.OPERATOR_ENABLED\' | translate: {\'verifyButtonLabel\':verifyButtonLabel}) }} </div> <div class="margin-15-t col-lg-5 col-md-5 col-sm-5 col-xs-12 col-xxs-12"> <div class="margin-10-r div-btn-engage"> <button class="btn btn-primary bg-blue-bind btn-block btn-engage" ng-click="activate()" ng-disabled="disabledOperator" aria-label="Continuar">{{::verifyButtonLabel}}</button> <div class="has-error" ng-if="handleError && form.activateToken.$submitted && form.activateToken.token.$error.valid"> <label class="control-label margin-10-t">{{\'ERROR.INVALID_TOKEN\' | translate}}</label> </div> </div> </div> </div> </form> <form ng-if="isDoit" name="form.activateToken" class="bind-flat-panel margin-15-t hidden-print" novalidate ng-cloak> <button class="btn btn-primary bg-blue-bind btn-block btn-engage" ng-click="fetchTokenFromDoit()" aria-label="Continuar">{{::verifyButtonLabel}}</button> </form>'),e.put("dist/templates/confirm-modal/confirm-modal.html",'<div class="modal-content"> <div class="modal-header"> <h1 id="modal-title" class="modal-title modal-title-new" style="display:inline-block" tabindex="1">{{title | translate }}</h1> <button type="button" class="close" data-dismiss="modal" ng-click="$dismiss()" aria-label="cerrar popup" tabindex="1">&times</button> </div> <div id="modal-body" class="modal-body modal-body-small" tabindex="2"> <p class="font-weight-300">{{ message | translate}}</p> </div> <div class="modal-footer" ng-class="{\'model-footer-single-content\': showOnlyOneButton }"> <div class="col-sm-6 margin-10-b" ng-if="!showOnlyOneButton"> <md-button class="md-primary md-primary-blue-line-bind btn-block margin-0" data-dismiss="modal" ng-click="cancel()" tabindex="2">{{ closeLabel | translate }}</md-button> </div> <div class="col-sm-6"> <md-button class="md-primary md-primary-blue-bind btn-block margin-0" data-dismiss="modal" ng-click="ok()" tabindex="2">{{ continueLabel | translate }}</md-button> </div> </div> </div>'),e.put("dist/templates/disclaimer-modal-xl.html",'<div class="col-xs-12 col-sm-12 col-md-12 col-lg-offset-1 col-lg-10"> <div style="padding:30px 0"> <button type="button" class="close" style="float:right" ng-click="cancel()" aria-label="Close"> <img width="22" height="22" src="../assets/images/new-design/close.svg" alt="cerrar_popup"> </button> <h3>{{modalData.title}}</h3> </div> <div class="modal-body" style="padding-right:30px"> <span ng-bind-html="modalData.text"/> </div> <div class="col-xs-12 col-sm-12 col-md-12 col-lg-offset-4 col-lg-4" style="padding:40px 0"> <md-button class="md-primary-blue-bind" style="width:98%" type="button" ng-click="cancel()">{{\'COMMON.CLOSE\' | translate}} </md-button> </div> </div>'),e.put("dist/templates/disclaimer-xl.html",'<div> <span class="font-size-10"> {{title}}: <span ng-bind-html="shortText | limitTo : limitShort" class="disclaimer-short-desc"></span> <span ng-show="shortText.length > limitShort" class="disclaimer-ellipsis">...</span> <button class="btn btn-link btn-xs md-btn-disclaimer margin-0-l text-left padding-0 blue-bind ng-binding" ng-click="open()" tabindex="0">Continuar leyendo</button> </span> </div>'),e.put("dist/templates/dock-btn.html",'<div id="dock-container"> <div type="button" id="dockDiv" aria-haspopup="true" role="button" aria-expanded="false" aria-label="dock de aplicaciones" tabindex="0" class="icon-container"><span class="icon-apps"></span> </div> </div>'),e.put("dist/templates/dock-popover.html",'<div id="dockPopup"> <div class="popup-arriba"> <div class="pop-content-padding"> <div class="custom-dock" ng-style="getContainerStyle()"> <div data-ng-repeat="section in dockItems"> <ul id="main" class="custom-dock grid" ng-style="getGridStyle()">  <li class="custom-dock" ng-repeat="dockItem in section | orderBy:\'position\':false" id="{{dockItem.accessItem.id}}"> <a ng-href="{{dockItem.accessItem.link}}" target="_blank"> <img ng-src="{{dockItem.accessItem.imageSource}}" role="presentation" alt="{{dockItem.accessItem.link}}"> <span class="dock-item-text">{{dockItem.accessItem.title}}</span> </a> </li> </ul> </div> <div class="separador-dock"> <ul id="custom" class="custom-dock grid" ng-style="getGridStyle()"> <li class="custom-dock"> <a ng-href="{{\'NAVBAR.URL_CUSTOM_DOCK.BANK\' | translate}}" target="_blank" href="{{\'NAVBAR.URL_CUSTOM_DOCK.BANK\' | translate}}"> <img role="presentation" alt="{{\'NAVBAR.URL_CUSTOM_DOCK.BANK\' | translate}}" src="https://www.bind.com.ar/images/dock-icons/bind.png"> <span class="dock-item-text ng-binding">Banco</span> </a> </li> <li class="custom-dock"> <a ng-href="{{\'NAVBAR.URL_CUSTOM_DOCK.INVESTMENTS\' | translate}}" target="_blank" href="{{\'NAVBAR.URL_CUSTOM_DOCK.INVESTMENTS\' | translate}}"> <img role="presentation" alt="{{\'NAVBAR.URL_CUSTOM_DOCK.INVESTMENTS\' | translate}}" src="https://www.bind.com.ar/images/dock-icons/inversiones.png"> <span class="dock-item-text ng-binding">Inversiones</span> </a> </li> <li class="custom-dock"> <a ng-href="{{\'NAVBAR.URL_CUSTOM_DOCK.INSURANCE\' | translate}}" target="_blank" href="{{\'NAVBAR.URL_CUSTOM_DOCK.INSURANCE\' | translate}}"> <img role="presentation" alt="{{\'NAVBAR.URL_CUSTOM_DOCK.INSURANCE\' | translate}}" src="https://www.bind.com.ar/images/dock-icons/seguros.png"> <span class="dock-item-text ng-binding">Seguros</span> </a> </li> </ul> </div> </div> </div> </div> </div>'),e.put("dist/templates/form/form.html",'<md-dialog class="popup-full-screen md-transition-in" aria-label="{{formAriaLabel}}"> <md-toolbar class="bg-default md-toolbar-responsive" background-context> <div class=""> <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"> <div class="popup-logo" role="presentation"></div>  </div> <div ng-if="!isDoit" class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-right"> <p class="font-size-12 margin-15-t">{{title}} </p> </div> </div> </md-toolbar> <md-progress-linear class="progress-form" md-mode="determinate" value="{{stepPercentage()}}"></md-progress-linear> <md-dialog-content class="md-dialog-responsive" id="md-dialog-responsive"> <div id="wrapper">  <div class="container-fluid max-width-xl"> <div class="row" ng-hide="disclaimer.show"> <div class="col-xs-12 col-sm-12 col-md-10 col-md-offset-1 col-lg-offset-1 col-lg-10"> <div class="hidden-lg hidden-md"> <div class="pull-left div-back" ng-show="!isDoit; showBack()"> <a ng-click="prevStep()"><img src="../assets/images/new-design/back-arrow-black.svg" alt="atras" aria-label="volver al paso anterior" style="margin-top:10px;width:20px;height:15px"></a> </div> <md-button id="form-close-btn-mobile" class="pull-right md-icon-button" ng-click="cancel()" ng-show="cancelButton"> <img src="../assets/images/new-design/close-black.svg" alt="cerrar formulario" style="width:19px;height:19px"> </md-button> <div class="clearfix"></div> </div> <div class="header-xs-form"> <div class="row" ng-show="cancelButton"> <div class="col-lg-12 col-md-12 colsm-12 col-xs-12"> <h1 class="pull-left form-title" ng-show="!isLastStep()">{{getTitle() | translate}}</h1> <md-button id="form-close-btn" class="pull-right md-icon-button hidden-sm hidden-xs" ng-click="cancel()"> <img width="22" src="../assets/images/new-design/close-black.svg" alt="cerrar_popup" style="width:20px" aria-label="cerrar formulario"> </md-button> <div class="clearfix"></div> </div> </div> </div> <div class="row hidden-sm hidden-xs"> <div class="pull-left div-back" ng-show="showBack()"> <a wv-event="WEBBANK_CLOSE" ng-click="prevStep()" role="link" tabindex="0" aria-label="volver al paso anterior"><img src="../assets/images/new-design/back-arrow-black.svg" alt=""></a> </div> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-show="!isLastStep()"> <h2 class="pull-left subtitle-form" ng-show="_getSubTitle() != \'\'">{{_getSubTitle() | translate}}</h2>  <p class="hidden-xs hidden-sm help-button-link pull-right margin-15-t margin-0-b" ng-show="hasHelp() && !forceFullWidth"> <span> <span ng-click="$event.stopPropagation(); isHelpOpened = false" ng-show="isHelpOpened && !accessibilityHidden()">Cerrar ayuda</span> <span ng-click="$event.stopPropagation(); isHelpOpened = true" ng-show="!isHelpOpened && !accessibilityHidden()">Ayuda</span> </span> </p> <div class="clearfix"></div> </div> </div> <div class="row hidden-md hidden-lg" aria-hidden="true"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="margin-top:-15px" ng-show="!isLastStep() && !forceFullWidth">  <a ng-click="$event.stopPropagation(); toggleHelp()" class="help-button-toggle pull-right margin-10-b margin-0-b" ng-show="hasHelp()"> <span> <span>Ayuda</span> </span> </a> <div class="clearfix"></div> </div> </div> <div cg-busy="{promise:stepData.promise,message:\'\',templateUrl:\'dist/templates/form/generic-loading.html\'}"> <div class="col-sm-12 col-xs-12" ng-class="{\'col-md-12\': isLastStep() || forceFullWidth, \'col-md-6\': !isLastStep() && !forceFullWidth}" ng-transclude> </div> <section ng-if="!isLastStep() && !forceFullWidth" class="col-lg-6 col-md-6 hidden-xs hidden-sm padding-0-r"> <div ng-show="hasHelp() && isHelpOpened" tabindex="1" class="bind-panel bind-panel-default"> <ng-include src="getHelpContent()"/> </div> <div ng-show="!isHelpOpened" class="bind-panel bind-panel-default"> <div ng-include src="getRightContent()"/> </div> </section> </div> <div class="col-sm-12 col-xs-12 col-md-12 disclaimer-div" ng-if="disclaimerPromise && !isLastStep()"> <disclaimer-xl title="{{\'COMMON.TERMS_AND_CONDITIONS\' | translate}}" promise="disclaimerPromise" popup-size="lg" disclaimer-in-form/> </div> <div class="col-sm-12 col-xs-12 col-md-12 disclaimer-div" ng-if="disclaimerI18nKey  && !isLastStep()"> <disclaimer-xl title="{{\'COMMON.TERMS_AND_CONDITIONS\' | translate}}" i18n-key="{{disclaimerI18nKey}}" popup-size="lg" disclaimer-in-form/> </div> </div> </div> </div> <div class="row" ng-show="disclaimer.show"> <div class="col-xs-12 col-sm-12 col-md-10 col-md-offset-1 col-lg-offset-1 col-lg-10"> <div class="header-xs-form"> <div class="row"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <h1 class="pull-left form-title" style="margin-top:10px!important;font-size:18px!important" ng-show="!isLastStep()" tabindex="1">{{getTitle() | translate}}</h1> <md-button class="pull-right md-icon-button" ng-click="canceldisclaimer()" tabindex="1"> <img src="../assets/images/new-design/close-black.svg" alt="cerrar_popup" style="width:20px;height:20px" aria-label="cerrar"> </md-button> <div class="clearfix"></div> </div> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" tabindex="1"> <h2 class="pull-left subtitle-form">{{disclaimer.title}}</h2> <div class="clearfix"></div> </div> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 padding-30-l" tabindex="2"> <span ng-bind-html="disclaimer.text"/> </div> </div> </div> </div> </div>  <div aria-hidden="true"> <md-sidenav class="md-sidenav-right md-sidenav-bind" md-component-id="ayuda" md-disable-backdrop=""> <md-content class="sidenav-container"> <div> <div class="header-filter" style="padding-top:40px"> <h2 class="pull-left">Ayuda</h2> <a ng-click="toggleHelp()" class="close-btn pull-right"> <img src="../assets/images/new-design/close.svg" alt="cerrar_popup" style="width:19px;height:19px"> </a> <div class="clearfix"></div> </div> <div class="help-content-responsive"> <ng-include src="getHelpContent()"/> </div> </div> </md-content> </md-sidenav> </div> </div> </md-dialog-content> </md-dialog>'),e.put("dist/templates/form/formConfirm.html",'<div> <div id="toPrint">  <div ng-if="confirm.objectNotNull === true"> <div class="visible-print"> <div class="text-left"> <h3 class="system-{{\'FORM.CONFIRM.COLOR.\' + containerObject.status | translate }}"> {{\'FORM.CONFIRM.\' + i18nkey + \'.TITLE.\' + containerObject.status | translate }}</h3> <p class="margin-10-t font-size-18">{{\'FORM.CONFIRM.\' + i18nkey + \'.SUBTITLE.\' + containerObject.status | translate }}</p> <h4 class="info-receipt" ng-if="containerObject.transactionNumber || containerObject.date"> <span ng-if="containerObject.transactionNumber">Nro. de comprobante:</span> <span class="font-weight-600">{{containerObject.transactionNumber}}</span> <br> <span ng-if="containerObject.date"> <span aria-hidden="true" class="">{{containerObject.date | date : \'dd-MM-yyyy HH:mm:ss\'}}</span> <span class="sr-only">{{containerObject.date | date : \'dd/MM/yyyy HH:mm:ss\'}}</span> </span> </h4> </div> <hr/> </div>  <div class="margin-20-t text-center hidden-print"> <img ng-src="../../assets/images/new-design/{{\'FORM.CONFIRM.\' + i18nkey + \'.IMG.\' + containerObject.status | translate }}" alt="{{\'FORM.CONFIRM.\' + i18nkey + \'.TITLE.\' + containerObject.status | translate }}" class="result-form-img"> </div> <div class="text-center hidden-print"> <h3 class="margin-20-b system-{{\'FORM.CONFIRM.COLOR.\' + containerObject.status | translate }}"> {{\'FORM.CONFIRM.\' + i18nkey + \'.TITLE.\' + containerObject.status | translate }}</h3> <p class="margin-20-b font-size-18">{{\'FORM.CONFIRM.\' + i18nkey + \'.SUBTITLE.\' + containerObject.status | translate }}</p> <p class="receipt-id-information text-left" ng-if="containerObject.transactionNumber || containerObject.date"> <span ng-if="containerObject.transactionNumber">Nro. de comprobante:</span> <span class="font-weight-600">{{containerObject.transactionNumber}}</span> <br> <span ng-if="containerObject.date || containerObject.lastModifiedDate"> <span aria-hidden="true" class="">Fecha: {{ (containerObject.date || containerObject.lastModifiedDate) | date : \'dd/MM/yyyy HH:mm:ss\'}}</span> <span class="sr-only">{{containerObject.date || containerObject.lastModifiedDate | date : \'dd-MM-yyyy HH:mm:ss\'}}</span> </span> </p> </div>  <div ng-transclude></div>  <p class="font-size-12 visible-print">(S.E.U.O.)</p>  <div class="margin-20-t margin-50-b" ng-if="containerObject.status === \'PENDING\' && (containerObject.notificationStatus.notifiedApprovers || containerObject.notificationStatus.notExistingApprovers)"> <hr/> <h5 class="margin-20-t notified-aprovers-h5" ng-if="containerObject.notificationStatus.notifiedApprovers.length > 0"> {{ "FORM.CONFIRM.APPROVERS.NOTIFIED_APPROVERS.TITLE" | translate }}</h5> <ul class="nav"> <li class="padding-5-r padding-5-b" style="float:left" ng-repeat="approver in containerObject.notificationStatus.notifiedApprovers"> <span><strong>{{approver.lastName + \', \' + approver.firstName | capitalize : true}}</strong> ({{approver.email}}) </span>{{$last ? \'\' : \'; \'}} </li> </ul> <div ng-if="containerObject.notificationStatus.notExistingApprovers.length >0"> <h5 class="margin-20-t notified-aprovers-h5"> <span class="fa fa-exclamation-triangle margin-10-r system-yellow" role="presentation"></span> {{ "FORM.CONFIRM.APPROVERS.NOT_EXISTING_APPROVERS.TITLE" | translate }} </h5> <p>{{ "FORM.CONFIRM.APPROVERS.NOT_EXISTING_APPROVERS.SUBTITLE" | translate }}</p> <ul class="nav"> <li class="padding-5-r padding-5-b" style="float:left" ng-repeat="approver in containerObject.notificationStatus.notExistingApprovers"><span><strong>{{approver.lastName | capitalize : true }}</strong> ({{approver.documentType}} {{approver.documentNumber}}) </span>{{$last ? \'\' : \'; \'}}</li> </ul> </div> </div> </div> <div ng-if="confirm.objectNotNull === false"> <div class="visible-print"> <div class="text-center"> <h3 class="system-yellow"> {{\'ERROR.TITLE.FORM\' | translate }}</h3> <p class="margin-10-t font-size-12">{{\'ERROR.UNKNOWN\' | translate }}</p> </div> <hr/> </div> <div class="margin-20-t text-center hidden-print"> <img src="../../assets/images/new-design/statement-unknown.svg" alt="{{\'ERROR.TITLE.FORM\' | translate }}" class="result-form-img"> </div> <div class="text-center hidden-print"> <div class="text-center"> <h3 class="system-yellow"> {{\'ERROR.TITLE.FORM\' | translate }}</h3> <p class="margin-10-t font-size-12">{{\'ERROR.UNKNOWN\' | translate }}</p> </div> </div> </div> </div>  <div class="row margin-40-t margin-40-b hidden-print" ng-if="showactions"> <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 margin-20-b"> <md-button class="md-primary-blue-line-bind btn-block margin-0" aria-label="imprimir" ng-click="print(\'#toPrint\')" tabindex="0" analytics-on="click" analytics-event="imprimir" analytics-label="transfer-Confirmation" ng-if="showprint && !isDoit"> Imprimir </md-button> </div> <div class="col-sm-12 col-xs-12 margin-20-b" ng-class="{\'col-lg-6 col-md-6\': showprint, \'col-lg-4 col-md-4 col-lg-offset-4 col-md-offset-4\': !showprint}"> <md-button class="md-primary-blue-bind btn-block margin-0" ng-click="cancel()" analytics-on="click" analytics-event="close-form" analytics-label="close-form"> Cerrar </md-button> </div> </div> </div>'),e.put("dist/templates/form/generic-loading.html",'<div class="backdrop-loading"> <div class="loader"></div> </div>'),e.put("dist/templates/modal-login.html",'<div ng-controller="loginComponentController" role="dialog"> <div class="modal-header"> <button type="button" class="close h1" data-dismiss="modal" title="Cerrar" ng-click="cancel()"><span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span> </button> <h1 class="h3 modal-title">Elegí cómo ingresar</h1> </div> <div class="modal-body"> <div id="content" style="width:310px;margin:10px auto;text-align:center"> <div class="row"> <div class="accordion"> <div class="accordion-group"> <div class="accordion-heading"><a ng-click="isCollapsed = !isCollapsed" class="btn btn-social btn-block btn-email accordion-toggle collapsed in"><span class="fa fa-envelope"></span>Email</a> </div> <div collapse="" aria-expanded="true" class="accordion-body"> <div class="accordion-inner"> <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert> <form ng-submit="submit()" role="form" name="loginForm" novalidate> <div class="form-group"> <fieldset> <legend class="sr-only">Datos del usuario</legend> <div class="form-group has-feedback {{validationClass(\'email\')}}"> <label for="txtUser" class="sr-only">Email</label> <input id="txtUser" novalidate name="email" type="email" ng-model="username" class="form-control" placeholder="Email" required> <span ng-show="showValidation(\'email\')" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': !hasError(\'email\'),\'glyphicon-remove\': hasError(\'email\')}" aria-hidden="true"></span> <span ng-show="showValidation(\'email\', \'required\')">{{ \'error.required\' | translate }}</span> <span ng-show="showValidation(\'email\', \'email\')">{{ \'error.email\' | translate }}</span> </div> <div class="form-group has-feedback {{validationClass(\'password\')}}"> <label for="txtPass" class="sr-only">Password</label> <input type="password" formnovalidate name="password" id="txtPass" ng-model="password" class="form-control" placeholder="Contraseña" required> <span ng-show="showValidation(\'password\')" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': !hasError(\'password\'),\'glyphicon-remove\': hasError(\'password\')}" aria-hidden="true"></span> <span ng-show="showValidation(\'password\', \'required\')">{{ \'error.required\' | translate }}</span> </div> <span class="pull-right" tabindex="100"> <a ng-click="startReset()">Recordar mi contraseña</a>  </span>  <br/> <br/> <input class="btn btn-block btn-primary" id="btn-login" type="submit" value="Entrar" role="submit"> </fieldset> </div> </form> </div> </div> </div> </div> </div>  </div> </div> <div class="modal-footer"> <a href="" ng-click="startRegister()">¿Sos nuevo? Registrate</a><br> </div> </div>'),e.put("dist/templates/modal-register.html",'<div ng-controller="loginComponentController" role="dialog"> <div class="modal-header"> <button type="button" class="close h1" data-dismiss="modal" title="Cerrar" ng-click="cancel()"><span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span> </button> <h1 class="h3 modal-title">Creá tu cuenta</h1> </div> <div class="modal-body"> <div class="row"> <div class="btn btn-social btn-block btn-email"><span class="fa fa-envelope"></span>Email</div> <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert> <form ng-submit="create()" name="loginForm" role="form" novalidate> <div class="form-group"> <fieldset> <legend class="sr-only">Datos del usuario</legend> <div class="form-group has-feedback {{validationClass(\'email\')}}"> <label for="txtUser" class="sr-only">Email</label> <input name="email" id="txtUser" type="email" ng-model="account.profile.email" class="form-control" placeholder="Email" required autofocus/> <span ng-show="showValidation(\'email\')" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': !hasError(\'email\'),\'glyphicon-remove\': hasError(\'email\')}" aria-hidden="true"></span> <span ng-show="showValidation(\'email\', \'required\')">{{ \'error.required\' | translate }}</span> <span ng-show="showValidation(\'email\', \'email\')">{{ \'error.email\' | translate }}</span> </div> <div class="form-group has-feedback {{validationClass(\'password\')}}"> <label for="txtPass" class="sr-only">Contraseña</label> <input name="password" type="password" id="txtPass" ng-model="account.password" class="form-control" placeholder="Contraseña" required> <span ng-show="showValidation(\'password\')" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': !hasError(\'password\'),\'glyphicon-remove\': hasError(\'password\')}" aria-hidden="true"></span> <span ng-show="showValidation(\'password\', \'required\')">{{ \'error.required\' | translate }}</span> </div> <div class="form-group has-feedback {{validationClass(\'password2\')}}"> <label for="txtPass2" class="sr-only" required>Confirmar contraseña</label> <input type="password" name="password2" class="form-control" placeholder="Confirmar contraseña" ng-model="password2" id="txtPass2" aria-label="Confirme la contraseña" required compare-password/> <span ng-show="showValidation(\'password2\')" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': !hasError(\'password2\'),\'glyphicon-remove\': hasError(\'password2\')}" aria-hidden="true"></span> <span ng-show="showValidation(\'password2\', \'required\')">{{ \'error.required\' | translate }}</span> <span ng-show="showValidation(\'password2\', \'comparePassword\')">{{ \'error.comparePassword\' | translate }}</span> </div> <input class="btn btn-block btn-primary" type="submit" value="Registrate"> </fieldset> </div> </form> </div> <div class="register-footer">Al registrarte podrás recibir alertas <br>y guardar instrumentos en tu watchlist.</div> </div> <div class="modal-footer"> ¿Ya creaste tu usuario? <a href="" ng-click="backToLogin()">Ingresá aquí</a> </div> </div>'),e.put("dist/templates/modal-reset.html",'<div ng-controller="resetComponentController"> <div class="modal-header"> <button type="button" class="close h1" data-dismiss="modal" title="Cerrar" ng-click="cancel()"><span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span> </button> <h1 class="h3 modal-title">Solicitud cambio de clave</h1> </div> <div class="modal-body"> <div id="content" style="width:310px;margin:10px auto;text-align:center"> <div class="row"> <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert> <form ng-submit="submitReset()" role="form" name="resetForm" novalidate> <div class="form-group"> <fieldset> <div class="form-group has-feedback {{validationReset(\'email\')}}"> <label for="txtUser" class="sr-only">Email</label> <input id="txtUser" novalidate name="email" type="email" ng-model="username" class="form-control" placeholder="Email" required> <span ng-show="showValidationReset(\'email\')" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-ok\': !hasErrorReset(\'email\'),\'glyphicon-remove\': hasErrorReset(\'email\')}" aria-hidden="true"></span> <span ng-show="showValidationReset(\'email\', \'required\')">{{ \'error.required\' | translate }}</span> <span ng-show="showValidationReset(\'email\', \'email\')">{{ \'error.email\' | translate }}</span> </div> <br/> <input class="btn btn-block btn-primary" type="submit" value="Aceptar" role="submit"> </fieldset> </div> </form> </div> </div> </div> </div>'),e.put("dist/templates/notification-btn.html",'<div id="notification-container"> <div type="button" id="notificationDiv" aria-haspopup="true" role="button" aria-expanded="false" aria-label="lista de notificaciones" tabindex="0" class="icon-container"> <div ng-show="hasPendingNotifications()" id="alert-number">{{pendingNotifications}}</div> <span class="icon-notifications"></span> </div> </div>'),e.put("dist/templates/notification-popover.html",'<div id="notificationPopup"> <div class="pop-content-padding" ng-cloak> <div class="notificacion" ng-repeat="notification in notifications" ng-show="notifications.length > 0"> <div class="notification-row priority {{priorityClass(notification)}}"> <div class="noti-actions" ng-click="remove(notification)"> <span class="glyphicon glyphicon-remove"></span> </div> <div> <span role="menuitem" tabindex="-1" ng-bind-html="notification.message"></span> <span class="noti-time">{{notification.date | date : \'dd, MMM yy @HH:mm\'}}hs</span> </div> </div> </div> <div class="notificacion no-not" ng-show="notifications.length == 0"> No hay notificaciones nuevas </div> <div class="popup-abajo centrado"><a target="{{gettarget()}}" ng-href="{{profileNotificationUrl}}">Ver más</a> </div> </div> <div class="notificacion no-not" ng-show="false"> Cargando notificaciones ... </div> </div>'),e.put("dist/templates/profile-btn.html",'<div id="profile-container"> <div id="profileImage" type="button" aria-haspopup="true" role="button" aria-expanded="false" analytics-category="navbar-login" analytics-event="click" analytics-label="login en navbar" analytics-on="click" title="Mi cuenta" aria-label="Mi cuenta" tabindex="0" class="icon-container"> <img alt="perfil" role="presentation" ng-show="thumbnail" ng-src="{{thumbnail}}" class="image-perfil-bar"> <span class="icon-person" ng-hide="thumbnail"></span> <span class="image-layer-container" ng-show="secure"> <img class="image-layer" ng-src="{{bindIdImageUrl}}" role="presentation" tooltip="Sesión con BindID" alt="Sesión con BindID" tooltip-placement="bottom"> </span> </div> </div>'),e.put("dist/templates/profile-popover.html",'<div id="profilePopup"> <div class="popup-arriba"> <div class="profile-pic"><img ng-src="{{thumbnail}}" class="profile-pic" role="presentation" alt="foto de perfil"></div> <div class="profile-text"><b>{{profile.firstName}} {{profile.lastName}}</b><br/> {{profile.email}}<br/><br/> <a class="btn btn-default button-edit-profile" target="{{gettarget()}}" ng-href="{{profileUrl}}">Editar mi Perfil</a></div> <div class="clearfix"></div> </div> <div class="popup-abajo"> <button type="button" id="signoutBtn" class="btn btn-default" ng-click="signout($event)" analytics-category="navbar-login" analytics-event="click" analytics-label="logout-button" analytics-on="click">Salir</button> </div> </div>'),e.put("dist/templates/search-instrument.html",'<div class="topbar-search" id="search-container"> <label for="txtFindModal" class="sr-only text-white">Símbolo a buscar</label> <input type="text" id="txtFindModal" ng-model="aaa" ng-keyup="$event.keyCode == 13" typeahead-min-length="3" class="form-control" placeholder="{{placeholderAttr}}" uib-typeahead="instrument as instrument.desc for instrument in suggest($viewValue)" typeahead-input-formatter="selectionFormatter()" typeahead-on-select="onSelected($item, $model, $label, instrument)" typeahead-loading="loadingLocations" typeahead-template-url="search-instrument-typeahead.html" tabindex="0"> </div> <script type="text/ng-template" id="search-instrument-typeahead.html"><a class="search-box selected"><span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span></a><\/script>')}]),angular.module("loginComponentModule",["saintDirectiveTemplates","ui.bootstrap","translateModule","config","toaster","ngResource"]).constant("RESTAPIURL","v1").config(["$httpProvider",function(e){e.interceptors.push(["$q","$rootScope","$translate","$location","$injector","toaster",function(n,a,i,e,t,o){return{request:function(e){return e},requestError:function(e){return n.reject(e)},response:function(e){return e},responseError:function(e){if("400"==e.status&&"WRONG_CREDENTIALS"==e.data.errorCode){var t=angular.isUndefined(e.data.cause)?i.instant("error.toaster.general"):e.data.cause;a.$broadcast("loginError",t)}return n.reject(e)}}}])}]).factory("loginComponentService",["$http","RESTAPIURL","WEBBANK_RESTAPI_URL","APP_CODE",function(o,r,t,s){return function(e){var i={method:"POST",url:"",headers:e};return{internal:function(e,t,n,a){i.url=e+r+"/internal",i.data={auth:t,app:s},o(i).then(function(e){n(e.data)}).catch(a)},isLoggedUser:function(){return o.get(t+"/user")}}}}]).factory("resetComponentService",["$http","RESTAPIURL",function(i,o){return function(e){var a={method:"POST",url:"",data:e};return{reset:function(e,t,n){a.url=e+o+"/initResetPasswordFlow/",i(a).then(function(e){t(e.data)}).catch(n)},finishReset:function(e,t,n){a.url=e+o+"/finishResetPasswordFlow/",i(a).then(function(e){t(e.data)}).catch(n)}}}}]).factory("logoutService",["$http","$rootScope","WEBBANK_RESTAPI_URL","$window",function(i,o,e,r){return{logout:function(){i.get(e+"/apps/logout").then(function(e){!function e(t){var n=[];if(t.constructor!=Array?n.push(t):n=t,0!=n.length){var a=n.shift();/^redirect:/.test(a)?r.location.href=a.replace("redirect:",""):i.post(a).finally(function(){e(n)})}else o.$broadcast("logoutSuccess")}(e.data)})}}}]).factory("registerComponentService",["$resource","WEBBANK_RESTAPI_URL",function(e,t){return e(t+"/account")}]).directive("loginComponent",["$uibModal","$rootScope","logoutService","APP_CONTEXT","loginComponentService","$log",function(s,l,c,d,u,p){return{priority:1e5,controller:function(){},link:function(t,e,n){function a(){t.modalInstance&&(t.modalInstance.close("cancel"),t.openedLogin=!1,t.openedReset=!1)}var i=!1,o=!1,r=!1;angular.element(window).focus(function(){t.isLogged?u().isLoggedUser().then(function(e){""===e.data&&(l.$broadcast("logoutSuccess"),t.isLogged=!1)}):u().isLoggedUser().then(function(e){e.data&&""!==e.data&&(l.$broadcast("loginSuccess"),t.isLogged=!0)})}),l.$on("loginRequest",function(){i||(a(),i=!0,t.modalInstance=s.open({templateUrl:"dist/templates/modal-login.html",controller:["$scope",function(t){t.cancel=function(){a()},l.$on("loginSuccess",function(e){t.cancel()})}],windowClass:"modal",size:"md",backdrop:!1}),t.modalInstance.result.then(function(){i=!1},function(){i=!1}))}),l.$on("registerRequest",function(){o||(a(),o=!0,t.modalInstance=s.open({templateUrl:"dist/templates/modal-register.html",controller:["$scope",function(t){t.cancel=function(){a()},l.$on("loginSuccess",function(e){t.cancel()})}],windowClass:"modal",size:"md",backdrop:!1}),t.modalInstance.result.then(function(){o=!1},function(){o=!1}))}),l.$on("resetRequest",function(){r||(a(),r=!0,t.modalInstance=s.open({templateUrl:"dist/templates/modal-reset.html",controller:["$scope",function(e){e.cancel=function(){a()},e.$on("resetSuccess",function(){e.cancel()})}],windowClass:"modal",size:"md",backdrop:!1}),t.modalInstance.result.then(function(){r=!1},function(){r=!1}))}),t.$on("logoutRequest",function(){c.logout(d.slice(1))}),t.$on("logoutSucess",function(){p("logoutSucess"),t.isLogged=!1})}}}]).controller("loginComponentController",["$scope","$rootScope","loginComponentService","registerComponentService","APP_CONTEXT",function(a,t,n,e,i){a.account={},a.isCollapsed=!0,a.alerts=[],a.submit=function(t){if(a.loginForm.$valid){t=t||0;var e=btoa(a.username+":"+a.password);return n().internal(i[t],e,function(e){t<i.length-1?a.submit(t+1):a.onFinish(e)},function(){t<i.length-1&&a.submit(t+1)})}},a.create=function(){a.loginForm.$valid&&e.save(a.account,function(){a.username=a.account.profile.email,a.password=a.account.password,a.submit()},function(e){a.onError(e.data)})},a.validationClass=function(e){var t=a.loginForm[e];return t&&(a.loginForm.$submitted||t.$touched)?t.$valid?"has-success":"has-error":""},a.hasError=function(e){return!a.loginForm[e].$valid},a.showValidation=function(e,t){var n=a.loginForm.$submitted||a.loginForm[e].$touched;return t&&(n=n&&a.loginForm[e].$error[t]),n},a.onFinish=function(e){e?t.$broadcast("loginSuccess",e):t.$broadcast("loginError")},a.onError=function(e){t.$broadcast("loginError",e.cause)},a.startRegister=function(){t.$broadcast("registerRequest")},a.backToLogin=function(){t.$broadcast("loginRequest")},a.startReset=function(){t.$broadcast("resetRequest")},a.closeAlert=function(e){a.alerts.splice(e,1)},a.addAlert=function(e){1==a.alerts.length&&a.closeAlert(0),a.alerts.push(e)},a.$on("loginError",function(e,t){t&&a.addAlert({type:"danger",msg:t})})}]).controller("resetComponentController",["$scope","$rootScope","resetComponentService","APP_CONTEXT",function(a,t,e,n){a.alerts=[],a.validationReset=function(e){var t=a.resetForm[e];return t&&(a.resetForm.$submitted||t.$touched)?t.$valid?"has-successReset":"has-errorReset":""},a.showValidationReset=function(e,t){var n=a.resetForm.$submitted||a.resetForm[e].$touched;return t&&(n=n&&a.resetForm[e].$error[t]),n},a.hasErrorReset=function(e){return!a.resetForm[e].$valid},a.submitReset=function(){if(a.resetForm.$valid)return e({email:a.username}).reset(n[1],function(){a.onFinishReset()},a.onErrorReset)},a.onFinishReset=function(){t.$broadcast("resetSuccess")},a.onErrorReset=function(e){t.$broadcast("resetError",e.cause)},a.closeAlert=function(e){a.alerts.splice(e,1)},a.addAlert=function(e){1==a.alerts.length&&a.closeAlert(0),a.alerts.push(e)},a.$on("resetError",function(e,t){t&&a.addAlert({type:"danger",msg:t})})}]).directive("comparePassword",function(){return{require:"ngModel",link:function(t,e,n,a){t.$watch("account.password",function(e,t,n){a.$setValidity("comparePassword",i())});var i=function(e){return t.account.password&&t.account.password===(e||t.password2)};a.$validators.comparePassword=function(e,t){return!!i(t)}}}}),angular.module("profileComponentModule",["saintDirectiveTemplates","loginComponentModule","config"]).factory("profileLoggedUser",["$http","WEBBANK_RESTAPI_URL",function(t,n){return{get:function(e){return t.get(n+"/profile/user")},identifications:function(e){return t.get(n+"/profile/identifications")}}}]).directive("profileComponent",["profileLoggedUser","$templateCache","$rootScope","$compile","WEBBANK_URL","$location","$q",function(s,t,l,c,d,u,p){return{priority:1e5,templateUrl:"dist/templates/profile-btn.html",scope:!0,link:function(a,i,e){var n,o={};function r(){var n=p.defer();return c(t.get("dist/templates/profile-popover.html"))(a,function(e){o={content:e,placement:"bottom",html:!0,animation:!0};var t=angular.element(i).find("#profileImage").popover(o);n.resolve(t)}),n.promise}a.gettarget=function(){var e="_blank";return-1<u.absUrl().indexOf(d)&&(e=""),e},angular.element(i).find("#profileImage").on("click",function(e,t){e.stopPropagation(),a.profile?n||t||r().then(function(e){n=e}):a.updateProfile()}),angular.element(document).on("click",function(e){var t=angular.element("#profilePopup");0==t.length||jQuery.contains(t[0],e.target)||n&&a.profile&&(angular.element(i).find("#profileImage").trigger("click",!0),n=null)}),angular.element("#profileImage").keypress(function(e){var t=e.which?e.which:e.keyCode;13!=t&&32!=t&&38!=t&&40!=t||angular.element("#profileImage").click()}),a.profileUrl=d+"/#/home/personalinfo",a.updateProfile=function(){a.secure=!1;var e=s.get();e.then(function(e){a.profile=e.data.profileDto,a.thumbnail=a.profile.imageUrl||d+"/assets/images/profile-avatar.png"});var t=s.identifications();t.then(function(e){e.data.forEach(function(e,t,n){if(e.active&&"BINDID"==e.type)return a.bindIdImageUrl=d+"/assets/images/bindid-avatar-icon.png",void(a.secure=!0)})}),p.all(e,t).then(function(e){r().then(function(e){n=e})})},a.signout=function(e){e.preventDefault(),e.stopPropagation(),l.$broadcast("logoutRequest")},a.clear=function(){a.user=null,a.profile=null,a.open=!1,a.popOverContent=null,a.thumbnail=null},l.$on("logoutSuccess",function(){angular.isDefined(n)&&n.popover("destroy"),a.clear()}),l.$on("loginSuccess",function(e,t){a.updateProfile()}),l.$on("updateProfile",function(e,t){a.updateProfile()}),a.clear()}}}]),angular.module("confirmModal",[]).controller("confirmModalController",["$scope","$uibModalInstance","data",function(e,t,n){e.title=n.title||"COMMON.CANCEL_OPERATION",e.message=n.message||"COMMON.CONFIRM_CANCEL_OPERATION",e.continueLabel=n.continueLabel||"COMMON.CONTINUE",e.closeLabel=n.closeLabel||"COMMON.CANCEL",e.showOnlyOneButton=!!n.showOnlyOneButton,e.cancel=function(){t.close("cancel")},e.ok=function(){t.close("ok")}}]).factory("modalDialogService",["$uibModal",function(o){return{showConfirmDialog:function(e,t,n,a,i){return o.open({templateUrl:"dist/templates/confirm-modal/confirm-modal.html",controller:"confirmModalController",backdrop:"static",keyboard:!1,size:"md",resolve:{data:function(){return{title:e,message:t,continueLabel:n,closeLabel:a,showOnlyOneButton:i}}}}).result}}}]),angular.module("formWizard",["mgo-angular-wizard"]).factory("formService",function(){return{title:function(){return""},trackLastStep:function(e){},firstStep:function(){return""},onStepValidated:function(e){},onStepError:function(e){}}}).directive("formContainer",function(){return{templateUrl:"dist/templates/form/form.html",transclude:!0,replace:!0,restrict:"E",controller:["$scope","$rootScope","WizardHandler","$q","$mdDialog","$attrs","formService","sideNavService","contextService","$analytics","$timeout","modalDialogService","$parse",function(o,e,r,n,s,l,c,t,a,i,d,u,p){o.isHelpOpened=!!angular.isDefined(o.isHelpOpened)&&o.isHelpOpened,o.isDoit=e.isDoit,o.canGoBack=!angular.isDefined(l.canGoBack)||"false"!==l.canGoBack,o.cancelAlert=!(!angular.isDefined(l.cancelAlert)||"true"!==l.cancelAlert),o.cancelTitleKey=angular.isDefined(l.cancelTitleKey)?l.cancelTitleKey:null,o.cancelButton=!angular.isDefined(l.cancelButton)||"false"!==l.cancelButton,o.eventCategory=o.eventCategory||l.eventCategory,o.eventAction=o.eventAction||l.eventAction,o.forceFullWidth=!1,o.stepData={},o.onOpen=!!angular.isDefined(l.onOpen)&&p(l.onOpen)(o),o.onClose=!!angular.isDefined(l.onClose)&&p(l.onClose)(o),c.firstStep(),d(function(){angular.element("#md-dialog-responsive").find(".autofocus-important")&&angular.element("#md-dialog-responsive").find(".autofocus-important").first().focus(),angular.element("#md-dialog-responsive").find("input","select").first().focus()},1e3),l.$observe("eventAction",function(e){o.eventAction=o.eventAction||e}),l.$observe("eventCategory",function(e){o.eventCategory=o.eventCategory||e}),l.$observe("eventActionConcat",function(e){o.eventAction=p(l.eventActionConcat)(o),o.$watch(l.eventActionConcat,function(e,t){o.eventAction=p(l.eventActionConcat)(o)})}),o.cancel=function(){r.wizard();o.cancelAlert&&!o.isLastStep()?u.showConfirmDialog(o.cancelTitleKey,null,o.cancelTitleKey,"COMMON.CLOSE").then(function(e){"ok"===e&&o.cancelConfirm()}):o.cancelConfirm()},o.cancelConfirm=function(){var e=r.wizard(),t="",n=!0;if(e&&(t=e.currentStepNumber()+"/"+e.totalStepCount()+" title: "+e.currentStepTitle(),n=e.currentStepNumber()<e.totalStepCount()),n){var a=l.object,i="";angular.isDefined(o.eventCategory)&&angular.isDefined(o.eventAction)&&(a=o.eventCategory,i=o.eventAction),c.trackLastStep(a,i,"cancel",t)}o.onClose&&angular.isFunction(o.onClose)&&o.onClose(),s.cancel()},o._getSubTitle=function(){var e=r.wizard(),t="";return e&&e.currentStep()&&(t=e.currentStepTitle()),o.getSubTitle?o.getSubTitle():t},o.getStepData=function(){return o.stepData},o.showBack=function(){if(o.canGoBack){var e=r.wizard(),t=e?e.currentStepNumber():1;return 1!==t&&t!==e.totalStepCount()}return!1},o.prevStep=function(){r.wizard().previous(),o.isFirstStep()&&c.firstStep()},o.hasHelp||(o.hasHelp=function(){return!1}),o.accessibilityHidden||(o.accessibilityHidden=function(){return!1}),o.toggleHelp=t.buildToggler("ayuda"),o.getRightContent||(o.getRightContent=function(){}),o.nextStep=function(e,t){if(o.isFirstStep()&&c.firstStep(),!e||e.$valid)return o.stepData.promise=n.resolve(),t&&(o.stepData.promise=o[t]()),o.stepData.promise.then(function(){o.isHelpOpened=!1,c.onStepValidated&&c.onStepValidated(e),angular.element("md-dialog-responsive").scrollTop=0,r.wizard().next()}).catch(function(){}),o.stepData.promise;c.onStepError&&c.onStepError(e)},o.isLastStep=function(){var e=r.wizard(),t=e.currentStep();return o.forceFullWidth=!(!t||!angular.isDefined(t.wzData))&&(!!angular.isDefined(t.wzData.forceFullWidth)&&t.wzData.forceFullWidth),!!e&&e.currentStepNumber()===e.totalStepCount()},o.isFirstStep=function(){var e=r.wizard();return!!e&&1===e.currentStepNumber()},o.stepPercentage=function(){var e=r.wizard();return 100*(e?e.currentStepNumber()/e.totalStepCount():0)},n.when(c.title()).then(function(e){o.title=e}),o.disclaimer={show:!1},o.$on("openDisclaimer",function(e,t){o.disclaimer=t}),o.canceldisclaimer=function(){o.disclaimer={show:!1}},o.init=function(){o.onOpen&&angular.isFunction(o.onOpen)&&o.onOpen(),angular.isDefined(o.eventCategory)&&angular.isDefined(o.eventAction)&&a.getContextCuit().then(function(e){i.eventTrack(o.eventCategory+"-"+o.eventAction+"-start",{category:o.eventCategory+"-xl",label:e})})},o.init()}]}}).directive("formConfirmContainer",function(){return{templateUrl:"dist/templates/form/formConfirm.html",transclude:!0,replace:!0,restrict:"E",controller:["$rootScope","$scope","WizardHandler","$attrs","printService","formService","$document",function(i,o,e,r,t,s,n){o.containerObject=o[r.object],o.i18nkey=o[r.i18nkey]||r.i18nkey||r.object,o.showprint=angular.isUndefined(r.noprint),o.showactions=angular.isUndefined(r.noactions),o.confirm={},o.confirm.objectNotNull=!1,o.$watch(r.object,function(e){e&&e.status?(o.containerObject=o[r.object],o.confirm.objectNotNull=!0):(o.containerObject=null,o.confirm.objectNotNull=!1)}),o.$watch(r.i18nkey,function(e){e&&e.status&&(o.i18nkey=o[r.i18nkey]||r.i18nkey||r.object)});var a=e.wizard();o.currentStep=a.currentStepNumber,o.$watch(o.isLastStep,function(e){if(e){var t="unknown";o.containerObject=o[r.object],o.containerObject&&o.containerObject.status&&(o.confirm.objectNotNull=!0,t=o.containerObject.status);var n=r.object,a="";angular.isDefined(o.eventCategory)&&angular.isDefined(o.eventAction)&&(n=o.eventCategory,a=o.eventAction),s.trackLastStep(n,a,t),i.$emit("form.confirm."+r.object+":refresh",o.containerObject)}}),o.print=function(e){t.printModal(angular.element(angular.element(e)))}}]}}),angular.module("sideNavService",[]).factory("contextualService",function(){return{toggleContextualMenu:function(){}}}).factory("sideNavService",["$mdSidenav","contextualService",function(i,o){function t(a,t){return function(n,e){if(e&&e.stopPropagation(),a)return"toggle"!==t||i(a).isOpen()||angular.element("md-sidenav").each(function(){var e=angular.element(this).attr("md-component-id");""!==e&&e!==a&&i(e).isOpen()&&i(e).close()}),i(a)[t]().then(function(){var e=i(a).isOpen(),t=angular.element("[md-component-id="+a+"]");return e&&n&&t.find(n).focus(),o.toggleContextualMenu(!e),e})}}return{buildToggler:function(e){return t(e,"toggle")},buildOnlyClose:function(e){return t(e,"close")},isAnyOpened:function(){return 0<angular.element("md-sidenav").filter(function(){var e=angular.element(this).attr("md-component-id");return i(e).isOpen()}).length}}}]).directive("closeSideNav",["sideNavService",function(a){return{restrict:"A",link:function(e,t,n){t[0].addEventListener("click",function(){a.buildOnlyClose(n.closeSideNav)()})}}}]),angular.module("notificationComponentModule",["saintDirectiveTemplates","loginComponentModule","config"]).factory("notificationLoggedUser",["$http","WEBBANK_RESTAPI_URL",function(e,t){return{isLoggedUser:function(){return e.get(t+"/user")}}}]).factory("notificationWebsocketService",["$rootScope","$internal","WEBBANK_RESTAPI_URL",function(s,e,l){var c,d=[];return{subscribe:function(a,i,o){var r=e(function(){if(c){if(c.connected){clearInterval(r);var e=c.subscribe(a,function(e){t(),i&&i(e)}),t=s.$on("wsError",function(){clearInterval(r),d.pop(e),t(),o&&o()});d.push(e)}}else n=new SockJS(l+"/ws"),(c=Stomp.over(n)).debug=null,c.connect({},function(e){s.$broadcast("wsConnected")},function(e){s.$broadcast("wsError")});var n},100)},disconnect:function(e){c?c.disconnect(function(){e&&e(),c=null}):e&&e()}}}]).factory("notificationComponentService",["$http","WEBBANK_RESTAPI_URL",function(t,n){return{read:function(e){return t.put(n+"/notification/user/read/"+e)},getAll:function(){return t.get(n+"/notification/user")},getQuantity:function(){return t.get(n+"/notification/user/pending/quantity")},getByLimit:function(e){return t.get(n+"/notification/user/limit/"+e)}}}]).directive("notificationComponent",["notificationLoggedUser","notificationComponentService","$templateCache","$rootScope","$compile","WEBBANK_URL","$sce","notificationWebsocketService","$timeout","$location",function(n,i,o,e,s,l,r,c,d,u){return{priority:1e5,scope:!0,templateUrl:"dist/templates/notification-btn.html",link:function(t,e,n){var a;t.profileNotificationUrl=l+"/#/home/notifications";var i=!(t.gettarget=function(){var e="_blank";return-1<u.absUrl().indexOf(l)&&(e=""),e}),o={};function r(){a=angular.element(e).find("#notificationDiv").popover(o),d(function(){s(angular.element(e).contents())(t),i=!1},500)}t.$on("logoutSuccess",function(){a&&a.popover("hide")}),t.$watch("popOverContent",function(e){null!=t.popOverContent&&(o={content:t.popOverContent,placement:"bottom",html:!0,animation:!0},r())}),angular.element(document).ready(function(){angular.element(e).find("#notificationDiv").on("click",function(e){t.click(),i||(i=!0,d(function(){null!=t.popOverContent&&r()},100))}),angular.element(document).on("click",function(e){a&&(a.is(e.target)||0<a.has(e.target).length||0===a.siblings(".popover").length||0!==a.siblings(".popover").has(e.target).length||a.popover("hide"))}),angular.element("#notificationDiv").keypress(function(e){var t=e.which?e.which:e.keyCode;13!=t&&32!=t&&38!=t&&40!=t||angular.element("#notificationDiv").click()})})},controller:["$scope",function(a){function t(e){c.subscribe("/user/notify/"+e.id,function(e){a.latestNotifications=angular.fromJson(e.body),a.$apply()})}n.isLoggedUser().then(function(e){e.data&&""!=e.data&&a.updateProfile(e.data)}),a.updateProfile=function(e){a.pendingNotifications=i.getQuantity().then(function(e){e.data&&(a.pendingNotifications=e.data.size)}),i.getByLimit(5).then(function(e){e.data&&(a.notifications=e.data.map(function(e){return e.message=r.trustAsHtml(e.message),e}),a.popOverContent=o.get("dist/templates/notification-popover.html"))}),e?t(e):n.isLoggedUser().then(function(e){e.data.id&&t(e.data)})},a.hasPendingNotifications=function(){return a.pendingNotifications&&0<a.pendingNotifications},a.$watch("latestNotifications",function(e,t){e&&(e.forEach(function(e){for(var t=-1,n=0;n<a.notifications.length;n++)if(a.notifications[n].id===e.id){t=n;break}-1==t&&a.notifications.unshift(e)}),a.pendingNotifications=e.length)}),a.priorityClass=function(e){switch(e.priority){case"HIGH":return"urgente";case"MED":return"relevante";default:return"habitual"}},a.remove=function(t){i.read(t.id).then(function(){for(var e=0;e<a.notifications.length;e++)a.notifications[e].id===t.id&&a.notifications.splice(e,1);a.pendingNotifications--})},e.$on("loginSuccess",function(e,t){null==a.notifications&&a.updateProfile()}),a.$on("logoutSuccess",function(e,t){a.clear(),c.disconnect()}),a.profileUrl=l+"/#/home/personalinfo",a.click=function(){null==a.notifications&&a.updateProfile()},a.clear=function(){a.user=null,a.popOverContent=null,a.pendingNotifications=null,a.notifications=null},a.clear()}]}}]),angular.module("disclaimerXl",[]).factory("disclaimerXlService",["$mdDialog","$document",function(a,i){return{openModal:function(e,t,n){a.show({controller:["$scope","modalData",function(e,t){e.modalData=t,e.cancel=function(){a.cancel()}}],templateUrl:"dist/templates/disclaimer-modal-xl.html",parent:angular.element(i[0].body),targetEvent:n,clickOutsideToClose:!0,multiple:!0,resolve:{modalData:function(){return{title:e,text:t}}}})}}}]).directive("disclaimerXl",["$q","$translate","$translatePartialLoader","disclaimerXlService",function(i,o,r,s){return{restrict:"E",scope:{title:"@",i18nKey:"@",limitShort:"@",text:"@",shortText:"@",promise:"&",errorMessage:"@",popupSize:"@",disclaimerInForm:"=?"},templateUrl:"dist/templates/disclaimer-xl.html",controller:["$scope","$element","$attrs",function(n,e,t){n.limitShort=t.limitShort||999999999;var a=t.popupSize||"sm";t.promise?n.$watch(function(){return n.promise()},function(e){e&&i.when(e).then(function(e){var t=e.data;n.shortText=t.preview,n.text=t.agreement},function(){n.shortText=t.errorMessage,n.text=t.errorMessage})}):t.text?(n.shortText=t.shortText,n.text=t.text):(r.addPart("disclaimer"),o.refresh().then(function(){n.shortText=o.instant(n.i18nKey+".SHORT"),n.text=o.instant(n.i18nKey+".LONG")})),n.open=function(){angular.isDefined(t.disclaimerInForm)?s.openModal(n.title,n.text,a):n.$emit("openDisclaimer",{title:n.title,text:n.text,show:!0})}}]}}]),angular.module("dockComponentModule",["saintDirectiveTemplates","config","Backo"]).factory("dockService",["$http","SAINT_ADMIN_RESTAPI_URL",function(e,t){return{get:function(){return e.get(t+"/dockitem")}}}]).directive("dockComponent",["dockService","$templateCache","$compile","Backoff","$timeout",function(a,r,s,e,l){return{priority:1e5,templateUrl:"dist/templates/dock-btn.html",scope:!0,link:function(t,n){var a;t.$watch("popOverContent",function(){if(null!=t.popOverContent){var e={content:t.popOverContent,placement:"bottom",html:!0,animation:!0};a=angular.element(n).find("#dockDiv").popover(e)}}),angular.element(document).on("click",function(e){a&&(a.is(e.target)||0<a.has(e.target).length||0===a.siblings(".popover").length||0!==a.siblings(".popover").has(e.target).length||a.popover("hide"))}),angular.element("#dockDiv").keypress(function(e){var t=e.which?e.which:e.keyCode;13!=t&&32!=t&&38!=t&&40!=t||angular.element("#dockDiv").click()})},controller:["$scope",function(i){var o=3,t=new e({min:1e3,max:1e5}),n=function(){var e=t.duration();e!==t.max&&a.get().then(function(e){!function(e){for(var t=0,n={},a=0;a<e.length;a++)angular.isUndefined(e[a].position)?(angular.isUndefined(n[o])&&(n[o]=[]),e[a].position=t,n[o].push(e[a]),t+=1):(angular.isUndefined(n[e[a].section])&&(n[e[a].section]=[]),n[e[a].section].push(e[a]));i.dockItems=n}(e.data),i.popOverContent=s(r.get("dist/templates/dock-popover.html"))(i),t.reset()},function(){l(n(),e)})};n()}]}}]),angular.module("bindToken",[]).factory("secondAuthenticationService",["$http","WEBBANK_RESTAPI_URL",function(t,n){return{fetchTokenChannelsMails:function(){return t.get(n+"/token/channels")},fetchTokenChannelsEnabledDevices:function(){return t.get(n+"/token/channelsEnabledDevices")},generateToken:function(e){return t.post(n+"/token/generate",e)}}}]).directive("bindToken",["secondAuthenticationService","$translate","$q",function(d,u,p){return{scope:{activateCallback:"&",tokenPromise:"=",title:"@?",verifyButtonLabel:"@",errorCode:"<?",elements:"<?",disabledOperator:"<?",disabled:"<?",validation:"&"},templateUrl:function(e,t){return t.templateUrl||"dist/templates/bind-token-tpls.html"},controller:["$scope","$rootScope","featureFlagsService","contextService","$window","$document",function(n,e,t,a,i,o){var r="REQUEST_TOKEN";function s(e){var t=angular.fromJson(e.data);t.type&&t.type===r&&(n.token=t.value,n.activate())}function l(e){e&&(e.$setPristine(),e.$setUntouched(),e.$valid=!0,n.tokenGenerationError=!1)}function c(){delete n.token.value,delete n.token.valid,delete n.elements,delete n.errorCode}n.form={},n.token={},n.isOperator=!!e.jwt,n.isDoit=e.isDoit,n.ignoreToken=e.jwt,n.disabledOperator=!angular.isDefined(n.disabledOperator)||n.disabledOperator,n.disabledOperator=!e.jwt||n.disabledOperator,n.fetchEngageDisabled=a.getContextCuit().then(function(e){return t.checkToggle("engage.disabled",e,function(){n.ignoreToken=!1},function(){})}),n.fetchCanOperate=a.getContextCuit().then(function(e){return t.checkToggle("engage.can.not.create",e,function(){n.disabledOperator=!0},function(){})}),n.isDoit&&o[0].addEventListener("message",s,!1),n.verifyButtonLabel||(n.verifyButtonLabel=u.instant("COMMON.SEND")),n.title||(n.title=u.instant("TOKEN.TITLE")),n.fetch=function(){n.channelsFetched=void 0,n.fetchChannels()},n.fetchTokenChannels=function(){var e=[];e.push(n.resolveTokenChannelMails()),e.push(n.resolveTokenChannelEnabledDevices());var a=p.defer();return n.fetchAllChannels=p.all(e),n.fetchAllChannels.then(function(e){for(var t=[],n=0;n<e.length;n++)200==e[n].status&&(t=t.concat(e[n].data));a.resolve(t)},function(e){a.reject(e)}),a.promise},n.resolveTokenChannelMails=function(){var t=p.defer();return d.fetchTokenChannelsMails().then(function(e){t.resolve(e)},function(e){e.data&&"GENERIC_ERROR"===e.data.errorCode?t.resolve([]):t.reject(e)}),t.promise},n.resolveTokenChannelEnabledDevices=function(){var t=p.defer();return d.fetchTokenChannelsEnabledDevices().then(function(e){t.resolve(e)},function(){t.resolve([])}),t.promise},n.fetchChannels=function(){n.fetchChannelsPromisse=n.fetchTokenChannels().then(function(e){n.channels=e,n.showOn=!1,n.channels&&0<n.channels.length&&n.channels[0].channel?(n.channelsFetched=!0,delete n.elements,delete n.errorCode):(n.channelsFetched=!1,n.elements="CHANNELS.PLURAL",n.errorCode="TABLE_EMPTY")},function(){n.channelsFetched=!1,n.elements="CHANNELS.PLURAL",n.errorCode="BACKEND"})},n.generateToken=function(){n.token.sent=!1,n.form.generateToken.$valid&&(l(n.form.activateToken),c(),n.tokenPromise=d.generateToken(n.token.channel).then(function(){n.token.sent=!0,n.tokenGenerationError=!1},function(){n.token.sent=!1,n.tokenGenerationError=!0,n.errorCode="TOKEN_GENERATION"}))},n.activate=function(){var e={};if(e=n.ignoreToken?{channel:"EMAIL",value:"",token:""}:{channel:n.token.channel.channel,value:n.token.channel.value,token:n.token.value},n.ignoreToken||!n.form.activateToken||n.form.activateToken.$valid){var t=p.defer();n.tokenPromise=n.activateCallback()(e,t.promise),n.tokenPromise&&n.tokenPromise.then(function(e){n.token.sent=!0,n.token.valid=!0,n.ignoreToken||!n.form.activateToken||n.isDoit||n.form.activateToken.token.$setValidity("valid",!0),o[0].removeEventListener("message",s),t.resolve(e)}).catch(function(e){e.data&&"TOKEN_VALIDATION_ERROR"===e.data.errorCode?(n.token.valid=!1,n.isDoit||n.form.activateToken.token.$setValidity("valid",!1)):t.reject(e)})}},n.$watch("errorCode",function(e){n.handleError=angular.isUndefined(e)}),n.$watch("token.value",function(e){e&&(l(n.form.activateToken),delete n.token.valid,n.isDoit||n.form.activateToken.token.$setValidity("valid",!0))}),n.$on("clean-bind-token",function(){l(n.form.activateToken),c(),n.token.sent=!1}),n.ignoreToken||n.fetchChannels(),n.fetchTokenFromDoit=function(){n.validation()&&!n.validation()()||i.postMessage(angular.toJson({type:r,meta:{requiresAuth:!0}}),"*")}}]}}]),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(p){function s(e,t,n){if(void 0===e.selectionStart){e.focus();var a=e.createTextRange();a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a.select()}else e.selectionStart=t,e.selectionEnd=n}function h(e,t){"string"==typeof e[t]&&(e[t]*=1)}function n(e,t){var n,a;n=e,a=t,p.each(a,function(e,t){"function"==typeof t?a[e]=t(n,a,e):"function"==typeof n.autoNumeric[t]&&(a[e]=n.autoNumeric[t](n,a,e))}),t.tagList=["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"];var i=t.vMax.toString().split("."),o=t.vMin||0===t.vMin?t.vMin.toString().split("."):[];if(h(t,"vMax"),h(t,"vMin"),h(t,"mDec"),t.mDec="CHF"===t.mRound?"2":t.mDec,t.allowLeading=!0,t.aNeg=t.vMin<0?"-":"",i[0]=i[0].replace("-",""),o[0]=o[0].replace("-",""),t.mInt=Math.max(i[0].length,o[0].length,1),null===t.mDec){var r=0,s=0;i[1]&&(r=i[1].length),o[1]&&(s=o[1].length),t.mDec=Math.max(r,s)}null===t.altDec&&0<t.mDec&&("."===t.aDec&&","!==t.aSep?t.altDec=",":","===t.aDec&&"."!==t.aSep&&(t.altDec="."));var l=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)";t.aNegRegAutoStrip=l,t.skipFirstAutoStrip=new RegExp(l+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d].*?(\\d|\\"+t.aDec+"\\d)"),t.skipLastAutoStrip=new RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$");var c="-"+t.aNum+"\\"+t.aDec;return t.allowedAutoStrip=new RegExp("[^"+c+"]","gi"),t.numRegAutoStrip=new RegExp(l+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))"),t}function l(e,t,n){if(t.aSign)for(;-1<e.indexOf(t.aSign);)e=e.replace(t.aSign,"");e=(e=(e=e.replace(t.skipFirstAutoStrip,"$1$2")).replace(t.skipLastAutoStrip,"$1")).replace(t.allowedAutoStrip,""),t.altDec&&(e=e.replace(t.altDec,t.aDec));var a=e.match(t.numRegAutoStrip);if(e=a?[a[1],a[2],a[3]].join(""):"",("allow"===t.lZero||"keep"===t.lZero)&&"strip"!==n){var i=[],o="";-1!==(i=e.split(t.aDec))[0].indexOf("-")&&(o="-",i[0]=i[0].replace("-","")),i[0].length>t.mInt&&"0"===i[0].charAt(0)&&(i[0]=i[0].slice(1)),e=o+i.join(t.aDec)}if(n&&"deny"===t.lZero||n&&"allow"===t.lZero&&!1===t.allowLeading){var r="^"+t.aNegRegAutoStrip+"0*(\\d"+("leading"===n?")":"|$)");r=new RegExp(r),e=e.replace(r,"$1$2")}return e}function c(e,t){if("p"===t.pSign){var n=t.nBracket.split(",");t.hasFocus||t.removeBrackets?(t.hasFocus&&e.charAt(0)===n[0]||t.removeBrackets&&e.charAt(0)===n[0])&&(e=(e=e.replace(n[0],t.aNeg)).replace(n[1],"")):(e=e.replace(t.aNeg,""),e=n[0]+e+n[1])}return e}function r(e,t){if(e){var n=+e;if(n<1e-6&&-1<n)(e=+e)<1e-6&&0<e&&(e=(e=(e+10).toString()).substring(1)),e<0&&-1<e&&(e="-"+(e=(e-10).toString()).substring(2)),e=e.toString();else{var a=e.split(".");void 0!==a[1]&&(e=0==+a[1]?a[0]:(a[1]=a[1].replace(/0*$/,""),a.join(".")))}}return"keep"===t.lZero?e:e.replace(/^0*(\d)/,"$1")}function d(e,t,n){return t&&"."!==t&&(e=e.replace(t,".")),n&&"-"!==n&&(e=e.replace(n,"-")),e.match(/\d/)||(e+="0"),e}function u(e,t,n){return n&&"-"!==n&&(e=e.replace("-",n)),t&&"."!==t&&(e=e.replace(".",t)),e}function m(e,t,n){return""===e||e===t.aNeg?"zero"===t.wEmpty?e+"0":"sign"===t.wEmpty||n?e+t.aSign:e:null}function g(e,t){var n=(e=l(e,t)).replace(",","."),a=m(e,t,!0);if(null!==a)return a;var i="";i=2===t.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===t.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var o=e.split(t.aDec);t.altDec&&1===o.length&&(o=e.split(t.altDec));var r=o[0];if(t.aSep)for(;i.test(r);)r=r.replace(i,"$1"+t.aSep+"$2");if(e=0!==t.mDec&&1<o.length?(o[1].length>t.mDec&&(o[1]=o[1].substring(0,t.mDec)),r+t.aDec+o[1]):r,t.aSign){var s=-1!==e.indexOf(t.aNeg);e=e.replace(t.aNeg,""),e="p"===t.pSign?t.aSign+e:e+t.aSign,s&&(e=t.aNeg+e)}return n<0&&null!==t.nBracket&&(e=c(e,t)),e}function f(e,t){e=""===e?"0":e.toString(),h(t,"mDec"),"CHF"===t.mRound&&(e=(Math.round(20*e)/20).toString());var n="",a=0,i="",o="boolean"==typeof t.aPad||null===t.aPad?t.aPad?t.mDec:0:+t.aPad,r=function(e){var t=0===o?/(\.(?:\d*[1-9])?)0*$/:1===o?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+o+"}(?:\\d*[1-9])?)0*$");return e=e.replace(t,"$1"),0===o&&(e=e.replace(/\.$/,"")),e};"-"===e.charAt(0)&&(i="-",e=e.replace("-","")),e.match(/^\d/)||(e="0"+e),"-"===i&&0==+e&&(i=""),(0<+e&&"keep"!==t.lZero||0<e.length&&"allow"===t.lZero)&&(e=e.replace(/^0*(\d)/,"$1"));var s=e.lastIndexOf("."),l=-1===s?e.length-1:s,c=e.length-1-l;if(c<=t.mDec){if(n=e,c<o){-1===s&&(n+=t.aDec);for(var d="000000";c<o;)n+=d=d.substring(0,o-c),c+=d.length}else o<c?n=r(n):0===c&&0===o&&(n=n.replace(/\.$/,""));if("CHF"!==t.mRound)return 0==+n?n:i+n;"CHF"===t.mRound&&(s=n.lastIndexOf("."),e=n)}var u=s+t.mDec,p=+e.charAt(u+1),m=e.substring(0,u+1).split(""),g="."===e.charAt(u)?e.charAt(u-1)%2:e.charAt(u)%2,f=!0;if(1!==g&&(g=0===g&&0<e.substring(u+2,e.length)?1:0),4<p&&"S"===t.mRound||4<p&&"A"===t.mRound&&""===i||5<p&&"A"===t.mRound&&"-"===i||5<p&&"s"===t.mRound||5<p&&"a"===t.mRound&&""===i||4<p&&"a"===t.mRound&&"-"===i||5<p&&"B"===t.mRound||5===p&&"B"===t.mRound&&1===g||0<p&&"C"===t.mRound&&""===i||0<p&&"F"===t.mRound&&"-"===i||0<p&&"U"===t.mRound||"CHF"===t.mRound)for(a=m.length-1;0<=a;a-=1)if("."!==m[a]){if("CHF"===t.mRound&&m[a]<=2&&f){m[a]=0,f=!1;break}if("CHF"===t.mRound&&m[a]<=7&&f){f=!(m[a]=5);break}if("CHF"===t.mRound&&f?f=!(m[a]=10):m[a]=+m[a]+1,m[a]<10)break;0<a&&(m[a]="0")}return 0==+(n=r((m=m.slice(0,u+1)).join("")))?n:i+n}function v(e,t,n){var a=t.aDec,i=t.mDec;if(e="paste"===n?f(e,t):e,a&&i){var o=e.split(a);o[1]&&o[1].length>i&&(e=0<i?(o[1]=o[1].substring(0,i),o.join(a)):o[0])}return e}function b(e,t){var n=+(e=d(e=v(e=l(e,t),t),t.aDec,t.aNeg));return n>=t.vMin&&n<=t.vMax}function o(e,t){this.settings=t,this.that=e,this.$that=p(e),this.formatted=!1,this.settingsClone=n(this.$that,this.settings),this.value=e.value}function y(e){return"string"==typeof e&&(e="#"+(e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).replace(/(:|\.)/g,"\\$1")),p(e)}function k(e,t,n){var a=e.data("autoNumeric");a||(a={},e.data("autoNumeric",a));var i=a.holder;return(void 0===i&&t||n)&&(i=new o(e.get(0),t),a.holder=i),i}o.prototype={init:function(e){this.value=this.that.value,this.settingsClone=n(this.$that,this.settings),this.ctrlKey=e.ctrlKey,this.cmdKey=e.metaKey,this.shiftKey=e.shiftKey,this.selection=function(e){var t={};if(void 0===e.selectionStart){e.focus();var n=document.selection.createRange();t.length=n.text.length,n.moveStart("character",-e.value.length),t.end=n.text.length,t.start=t.end-t.length}else t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start;return t}(this.that),"keydown"!==e.type&&"keyup"!==e.type||(this.kdCode=e.keyCode),this.which=e.which,this.processed=!1,this.formatted=!1},setSelection:function(e,t,n){e=Math.max(e,0),t=Math.min(t,this.that.value.length),this.selection={start:e,end:t,length:t-e},(void 0===n||n)&&s(this.that,e,t)},setPosition:function(e,t){this.setSelection(e,e,t)},getBeforeAfter:function(){var e=this.value;return[e.substring(0,this.selection.start),e.substring(this.selection.end,e.length)]},getBeforeAfterStriped:function(){var e=this.getBeforeAfter();return e[0]=l(e[0],this.settingsClone),e[1]=l(e[1],this.settingsClone),e},normalizeParts:function(e,t){var n=this.settingsClone;""!==(e=l(e,n,!!(t=l(t,n)).match(/^\d/)||"leading"))&&e!==n.aNeg||"deny"!==n.lZero||""<t&&(t=t.replace(/^0*(\d)/,"$1"));var a=e+t;if(n.aDec){var i=a.match(new RegExp("^"+n.aNegRegAutoStrip+"\\"+n.aDec));i&&(a=(e=e.replace(i[1],i[1]+"0"))+t)}return"zero"!==n.wEmpty||a!==n.aNeg&&""!==a||(e+="0"),[e,t]},setValueParts:function(e,t,n){var a=this.settingsClone,i=this.normalizeParts(e,t),o=i.join(""),r=i[0].length;return!!b(o,a)&&(r>(o=v(o,a,n)).length&&(r=o.length),this.value=o,this.setPosition(r,!1),!0)},signPosition:function(){var e=this.settingsClone,t=e.aSign,n=this.that;if(t){var a=t.length;if("p"===e.pSign)return e.aNeg&&n.value&&n.value.charAt(0)===e.aNeg?[1,a+1]:[0,a];var i=n.value.length;return[i-a,i]}return[1e3,-1]},expandSelectionOnSign:function(e){var t=this.signPosition(),n=this.selection;n.start<t[1]&&n.end>t[0]&&((n.start<t[0]||n.end>t[1])&&this.value.substring(Math.max(n.start,t[0]),Math.min(n.end,t[1])).match(/^\s*$/)?n.start<t[0]?this.setSelection(n.start,t[0],e):this.setSelection(t[1],n.end,e):this.setSelection(Math.min(n.start,t[0]),Math.max(n.end,t[1]),e))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var e=this.getBeforeAfter(),t=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,e[0]=e[0].substr(0,t[0].length)+l(e[0].substr(t[0].length),this.settingsClone),this.setValueParts(e[0],e[1],"paste")||(this.value=t.join(""),this.setPosition(t[0].length,!1))}},skipAllways:function(e){var t=this.kdCode,n=this.which,a=this.ctrlKey,i=this.cmdKey,o=this.shiftKey;if((a||i)&&"keyup"===e.type&&void 0!==this.valuePartsBeforePaste||o&&45===t)return this.checkPaste(),!1;if(112<=t&&t<=123||91<=t&&t<=93||9<=t&&t<=31||t<8&&(0===n||n===t)||144===t||145===t||45===t||224===t)return!0;if((a||i)&&65===t)return!0;if((a||i)&&(67===t||86===t||88===t))return"keydown"===e.type&&this.expandSelectionOnSign(),86!==t&&45!==t||("keydown"===e.type||"keypress"===e.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===e.type||"keypress"===e.type||67===t;if(a||i)return!0;if(37!==t&&39!==t)return 34<=t&&t<=40;var r=this.settingsClone.aSep,s=this.selection.start,l=this.that.value;return"keydown"===e.type&&r&&!this.shiftKey&&(37===t&&l.charAt(s-2)===r?this.setPosition(s-1):39===t&&l.charAt(s+1)===r&&this.setPosition(s+1)),!0},processAllways:function(){var e;return(8===this.kdCode||46===this.kdCode)&&(this.selection.length?(this.expandSelectionOnSign(!1),e=this.getBeforeAfterStriped()):(e=this.getBeforeAfterStriped(),8===this.kdCode?e[0]=e[0].substring(0,e[0].length-1):e[1]=e[1].substring(1,e[1].length)),this.setValueParts(e[0],e[1]),!0)},processKeypress:function(){var e=this.settingsClone,t=String.fromCharCode(this.which),n=this.getBeforeAfterStriped(),a=n[0],i=n[1];return t===e.aDec||e.altDec&&t===e.altDec||("."===t||","===t)&&110===this.kdCode?e.mDec&&e.aDec&&(e.aNeg&&-1<i.indexOf(e.aNeg)||-1<a.indexOf(e.aDec)||0<i.indexOf(e.aDec)||(0===i.indexOf(e.aDec)&&(i=i.substr(1)),this.setValueParts(a+e.aDec,i))):"-"===t||"+"===t?e.aNeg&&(""===a&&-1<i.indexOf(e.aNeg)&&(a=e.aNeg,i=i.substring(1,i.length)),a=a.charAt(0)===e.aNeg?a.substring(1,a.length):"-"===t?e.aNeg+a:a,this.setValueParts(a,i)):"0"<=t&&t<="9"&&(e.aNeg&&""===a&&-1<i.indexOf(e.aNeg)&&(a=e.aNeg,i=i.substring(1,i.length)),e.vMax<=0&&e.vMin<e.vMax&&-1===this.value.indexOf(e.aNeg)&&"0"!==t&&(a=e.aNeg+a),this.setValueParts(a+t,i)),!0},formatQuick:function(){var e=this.settingsClone,t=this.getBeforeAfterStriped(),n=this.value;if((""===e.aSep||""!==e.aSep&&-1===n.indexOf(e.aSep))&&(""===e.aSign||""!==e.aSign&&-1===n.indexOf(e.aSign))){var a=[],i="";-1<(a=n.split(e.aDec))[0].indexOf("-")&&(i="-",a[0]=a[0].replace("-",""),t[0]=t[0].replace("-","")),a[0].length>e.mInt&&"0"===t[0].charAt(0)&&(t[0]=t[0].slice(1)),t[0]=i+t[0]}var o=g(this.value,this.settingsClone),r=o.length;if(o){for(var s=t[0].split(""),l=0;l<s.length;l+=1)s[l].match("\\d")||(s[l]="\\"+s[l]);var c=new RegExp("^.*?"+s.join(".*?")),d=o.match(c);d?(0===(r=d[0].length)&&o.charAt(0)!==e.aNeg||1===r&&o.charAt(0)===e.aNeg)&&e.aSign&&"p"===e.pSign&&(r=this.settingsClone.aSign.length+("-"===o.charAt(0)?1:0)):e.aSign&&"s"===e.pSign&&(r-=e.aSign.length)}this.that.value=o,this.setPosition(r),this.formatted=!0}};var t={init:function(i){return this.each(function(){var o=p(this),e=o.data("autoNumeric"),t=o.data(),n=o.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");if("object"==typeof e)return this;(e=p.extend({},p.fn.autoNumeric.defaults,t,i,{aNum:"0123456789",hasFocus:!1,removeBrackets:!1,runOnce:!1,tagList:["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"]})).aDec===e.aSep&&p.error("autoNumeric will not function properly when the decimal character aDec: '"+e.aDec+"' and thousand separator aSep: '"+e.aSep+"' are the same character"),o.data("autoNumeric",e);var r=k(o,e);if(n||"input"!==o.prop("tagName").toLowerCase()||p.error('The input type "'+o.prop("type")+'" is not supported by autoNumeric()'),-1===p.inArray(o.prop("tagName").toLowerCase(),e.tagList)&&"input"!==o.prop("tagName").toLowerCase()&&p.error("The <"+o.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),!1===e.runOnce&&e.aForm){if(n){var a=!0;""===o[0].value&&"empty"===e.wEmpty&&(o[0].value="",a=!1),""===o[0].value&&"sign"===e.wEmpty&&(o[0].value=e.aSign,a=!1),a&&""!==o.val()&&(null===e.anDefault&&o[0].value===o.prop("defaultValue")||null!==e.anDefault&&e.anDefault.toString()===o.val())&&o.autoNumeric("set",o.val())}-1!==p.inArray(o.prop("tagName").toLowerCase(),e.tagList)&&""!==o.text()&&o.autoNumeric("set",o.text())}e.runOnce=!0,o.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")&&(o.on("keydown.autoNumeric",function(e){return(r=k(o)).settings.aDec===r.settings.aSep&&p.error("autoNumeric will not function properly when the decimal character aDec: '"+r.settings.aDec+"' and thousand separator aSep: '"+r.settings.aSep+"' are the same character"),r.that.readOnly?r.processed=!0:(r.init(e),r.skipAllways(e)?r.processed=!0:r.processAllways()?(r.processed=!0,r.formatQuick(),e.preventDefault(),!1):!(r.formatted=!1))}),o.on("keypress.autoNumeric",function(e){var t=(r=k(o)).processed;return r.init(e),!!r.skipAllways(e)||(t?(e.preventDefault(),!1):r.processAllways()||r.processKeypress()?(r.formatQuick(),e.preventDefault(),!1):void(r.formatted=!1))}),o.on("keyup.autoNumeric",function(e){(r=k(o)).init(e);var t=r.skipAllways(e);return r.kdCode=0,delete r.valuePartsBeforePaste,o[0].value===r.settings.aSign&&("s"===r.settings.pSign?s(this,0,0):s(this,r.settings.aSign.length,r.settings.aSign.length)),!!t||(o.change(),""===this.value||void(r.formatted||r.formatQuick()))}),o.on("focusin.autoNumeric",function(){var e=(r=k(o)).settingsClone;if(e.hasFocus=!0,null!==e.nBracket){var t=o.val();o.val(c(t,e))}r.inVal=o.val();var n=m(r.inVal,e,!0);null!==n&&""!==n&&o.val(n)}),o.on("focusout.autoNumeric",function(){var e=(r=k(o)).settingsClone,t=o.val(),n=t;e.hasFocus=!1;var a="";"allow"===e.lZero&&(e.allowLeading=!1,a="leading"),""!==t&&(t=null===m(t=l(t,e,a),e)&&b(t,e,o[0])?u(t=f(t=d(t,e.aDec,e.aNeg),e),e.aDec,e.aNeg):"");var i=m(t,e,!1);null===i&&(i=g(t,e)),i===r.inVal&&i===n||(o.val(i),o.change(),delete r.inVal)}))})},destroy:function(){return p(this).each(function(){var e=p(this);e.off(".autoNumeric"),e.removeData("autoNumeric")})},update:function(a){return p(this).each(function(){var e=y(p(this)),t=e.data("autoNumeric");"object"!=typeof t&&p.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method");var n=e.autoNumeric("get");if(k(e,t=p.extend(t,a),!0),t.aDec===t.aSep&&p.error("autoNumeric will not function properly when the decimal character aDec: '"+t.aDec+"' and thousand separator aSep: '"+t.aSep+"' are the same character"),e.data("autoNumeric",t),""!==e.val()||""!==e.text())return e.autoNumeric("set",n)})},set:function(o){if(null!==o)return p(this).each(function(){var e=y(p(this)),t=e.data("autoNumeric"),n=o.toString(),a=o.toString(),i=e.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");return"object"!=typeof t&&p.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),a!==e.attr("value")&&a!==e.text()||!1!==t.runOnce||(n=n.replace(",",".")),p.isNumeric(+n)||p.error("The value ("+n+") being 'set' is not numeric and has caused a error to be thrown"),n=r(n,t),t.setEvent=!0,n.toString(),""!==n&&(n=f(n,t)),b(n=u(n,t.aDec,t.aNeg),t)||(n=f("",t)),n=g(n,t),i?e.val(n):-1!==p.inArray(e.prop("tagName").toLowerCase(),t.tagList)&&e.text(n)})},get:function(){var e=y(p(this)),t=e.data("autoNumeric");"object"!=typeof t&&p.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method");var n="";return e.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")?n=e.eq(0).val():-1!==p.inArray(e.prop("tagName").toLowerCase(),t.tagList)?n=e.eq(0).text():p.error("The <"+e.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),""===n&&"empty"===t.wEmpty||n===t.aSign&&("sign"===t.wEmpty||"empty"===t.wEmpty)?"":(""!==n&&null!==t.nBracket&&(t.removeBrackets=!0,n=c(n,t),t.removeBrackets=!1),(t.runOnce||!1===t.aForm)&&(n=l(n,t)),0==+(n=d(n,t.aDec,t.aNeg))&&"keep"!==t.lZero&&(n="0"),"keep"===t.lZero?n:n=r(n,t))},getString:function(){var a=!1,e=y(p(this)),i=e.serialize().split("&"),o=p("form").index(e),t=p("form:eq("+o+")"),r=[],s=[],n=/^(?:submit|button|image|reset|file)$/i,l=/^(?:input|select|textarea|keygen)/i,c=/^(?:checkbox|radio)$/i,d=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,u=0;return p.each(t[0],function(e,t){""===t.name||!l.test(t.localName)||n.test(t.type)||t.disabled||!t.checked&&c.test(t.type)?s.push(-1):(s.push(u),u+=1)}),u=0,p.each(t[0],function(e,t){"input"!==t.localName||""!==t.type&&"text"!==t.type&&"hidden"!==t.type&&"tel"!==t.type?(r.push(-1),"input"===t.localName&&d.test(t.type)&&(u+=1)):(r.push(u),u+=1)}),p.each(i,function(e,t){t=i[e].split("=");var n=p.inArray(e,s);-1<n&&-1<r[n]&&("object"==typeof p("form:eq("+o+") input:eq("+r[n]+")").data("autoNumeric")&&null!==t[1]&&(t[1]=p("form:eq("+o+") input:eq("+r[n]+")").autoNumeric("get").toString(),i[e]=t.join("="),a=!0))}),a||p.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),i.join("&")},getArray:function(){var a=!1,e=y(p(this)),t=e.serializeArray(),i=p("form").index(e),n=p("form:eq("+i+")"),o=[],r=[],s=/^(?:submit|button|image|reset|file)$/i,l=/^(?:input|select|textarea|keygen)/i,c=/^(?:checkbox|radio)$/i,d=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,u=0;return p.each(n[0],function(e,t){""===t.name||!l.test(t.localName)||s.test(t.type)||t.disabled||!t.checked&&c.test(t.type)?r.push(-1):(r.push(u),u+=1)}),u=0,p.each(n[0],function(e,t){"input"!==t.localName||""!==t.type&&"text"!==t.type&&"hidden"!==t.type&&"tel"!==t.type?(o.push(-1),"input"===t.localName&&d.test(t.type)&&(u+=1)):(o.push(u),u+=1)}),p.each(t,function(e,t){var n=p.inArray(e,r);-1<n&&-1<o[n]&&("object"==typeof p("form:eq("+i+") input:eq("+o[n]+")").data("autoNumeric")&&(t.value=p("form:eq("+i+") input:eq("+o[n]+")").autoNumeric("get").toString(),a=!0))}),a||p.error("None of the successful form inputs are initialized by autoNumeric."),t},getSettings:function(){return y(p(this)).eq(0).data("autoNumeric")}};p.fn.autoNumeric=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void p.error('Method "'+e+'" is not supported by autoNumeric()'):t.init.apply(this,arguments)},p.fn.autoNumeric.defaults={aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"9999999999999.99",vMin:"-9999999999999.99",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",sNumber:!0,aForm:!0,anDefault:null}});var autoNumericModule=angular.module("autoNumericModule",[]);autoNumericModule.directive("autoNumeric",["$compile","$locale",function(e,l){var c={};return{require:"?ngModel",restrict:"A",compile:function(e,r){var s=e.is("input:text");return function(t,n,e,a){var i=angular.extend({},c,t.$eval(e.autoNumeric)),o=function(e,t){t||e.autoNumeric("set",""),jQuery.isNumeric(t)&&e.autoNumeric("set",t)};angular.isUndefined(n.attr("data-a-sep"))&&n.attr("data-a-sep",l.NUMBER_FORMATS.GROUP_SEP),angular.isUndefined(n.attr("data-a-dec"))&&n.attr("data-a-dec",l.NUMBER_FORMATS.DECIMAL_SEP),n.autoNumeric(i),a&&s?(t.$watch(r.ngModel,function(e,t){a.$setViewValue(n.autoNumeric("get")),a.$render()}),a.$render=function(){o(n,a.$viewValue)},n.on("change",function(e){t.$apply(function(){a.$setViewValue(n.autoNumeric("get"))})})):s&&e.$observe("value",function(e){o(n,e)})}}}}]);
//# sourceMappingURL=../sourcemaps/base_xl.js.map